# How To Run The Project:

 Create a `.rlg327` folder in your home directory:
```bash
mkdir ~/.rlg327
```

Build the project:
```bash
make
```

## Running configurations
Run the project with flags (or no flags):
```bash
./dungeon --load --save --nummon <number>
```

> # Dungeon File
> Whenever a save or load occurs, it uses the file called `dungeon`. This doesn't have any extension and cannot have one for loading to work.

# Main Files:
```Plain
include/
└── character.h
src/
├── core/
│   └── dungeon.c
├── generation/
│   └── character.c
└── movement/
	├── monster_movement.c
	└── player_movement.c
```
# About the Project:

## Constraints:
- All files and inputs are assumed to be valid
- Dungeon will never stop running, even when in a unmovable state
- There is no limit on the number of monsters, but too high of an input will cause an infinite loop, as there's no space to place monsters

## Monster Definitions:
- ### Erratic
	- Monster has a 50% chance to move erratically. This ignores other attributes if an erratic move is triggered, but respects the monster tunneling ability.
- ### Intelligent
	- Moves towards PC using distance map, for the shortest path
	- Remembers PC position if out of sight
	- Idles if monster never saw the PC, or if already at its PC's remembered location
- ### Unintelligent
	- Wanders randomly if PC not in sight
	- Cannot remember PC's last seen location
	- Moves horizontally, then vertically towards PC
		- No diagonal movement
		- May get into a stuck position
- ### Tunneling
	- Give monsters ability to tunnel through rocks
- ### Telepathy
	- Monster always has PCs current location.

## How the Project Runs:
After loading and generating the Dungeon in `main.c`, the program calls `start_gameplay()` in `dungeon.c`. This sets up a priority queue for event, and runs the game. Monsters and players are defined in `character.c`, while their movement are handled in `monster_movement.c` and `player_movement.c` respectively.

# Example Output:
```text
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ........  ....           ###################....     ##....  ....       |
|        ........  ....   ........................   .... ....> ....  ....  .... |
|            #     ....   ............<...........########....########....##.... |
|         ....     ....   ........................########....########....##.... |
|         ....     ....####################>#######################   ....  .... |
| ....    ....#####....##############............ ................... ....##.... |
| ....    ....#    ....         .... ............ ................... ....    #  |
| ....#############....#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               ............ #    #    #    #   #....  .... |
|   ..............................   ............ ..........#........ ....  .... |
|   ..............................################..........#........  ##   .... |
|   ..............................    #           ..........#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ..................................<...........#....   |
|   ....##....#........####.............................................. ....   |
|   ....  .... ........    .................................@............        |
|                                                                                |
----------------------------------------------------------------------------------
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           ###################....     ##....  ....       |
|        ....3...  ....   ................A....4..   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########...B########.B..##6... |
|         ....     ....   ........................########.F..########....##.... |
|         ....     ....####################>#######################   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   ..0...........................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4..4E......................4........... ....   |
|   .5..  .... ........    ...............................8.@......34.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
monsters: 40
alive: 40
Player moved from (59, 19) to (59, 18)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           ###################....     ##....  ....       |
|        ....3...  ....   ................A....4..   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########...B########.B..##6... |
|         ....     ....   ........................########.F..########....##.... |
|         ....     ....####################>#######################   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   ..0...........................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4..4E.....................@4........... ....   |
|   .5..  .... ........    ...............................8........34.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster 3 moved from (66, 19) to (65, 18)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           ###################....     ##....  ....       |
|        ....3...  ....   ................A....4..   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########...B########.B..##6... |
|         ....     ....   ........................########.F..########....##.... |
|         ....     ....####################>#######################   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   ..0...........................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4..4E.....................@4....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster 4 moved from (46, 3) to (46, 2)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           #############4#####....     ##....  ....       |
|        ....3...  ....   ................A.......   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########...B########.B..##6... |
|         ....     ....   ........................########.F..########....##.... |
|         ....     ....####################>#######################   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   ..0...........................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4..4E.....................@4....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster 0 moved from (5, 14) to (4, 14)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           #############4#####....     ##....  ....       |
|        ....3...  ....   ................A.......   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########...B########.B..##6... |
|         ....     ....   ........................########.F..########....##.... |
|         ....     ....####################>#######################   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   .0............................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4..4E.....................@4....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster F moved from (58, 5) to (57, 6)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           #############4#####....     ##....  ....       |
|        ....3...  ....   ................A.......   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########...B########.B..##6... |
|         ....     ....   ........................########....########....##.... |
|         ....     ....####################>##############F########   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   .0............................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4..4E.....................@4....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster 4 killed a monster E
Monster 4 moved from (36, 18) to (37, 18)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           #############4#####....     ##....  ....       |
|        ....3...  ....   ................A.......   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########...B########.B..##6... |
|         ....     ....   ........................########....########....##.... |
|         ....     ....####################>##############F########   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   .0............................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4...4.....................@4....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster B moved from (60, 4) to (59, 5)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           #############4#####....     ##....  ....       |
|        ....3...  ....   ................A.......   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########....########.B..##6... |
|         ....     ....   ........................########..B.########....##.... |
|         ....     ....####################>##############F########   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############..0.#########....#............#................... ....    #  |
| ....#      # ##    #          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   .0............................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4...4.....................@4....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster 0 moved from (20, 9) to (20, 10)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           #############4#####....     ##....  ....       |
|        ....3...  ....   ................A.......   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########....########.B..##6... |
|         ....     ....   ........................########..B.########....##.... |
|         ....     ....####################>##############F########   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############....#########....#............#................... ....    #  |
| ....#      # ##    0          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   .0............................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4...4.....................@4....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Monster 4 killed the player
Monster 4 moved from (60, 18) to (59, 18)
----------------------------------------------------------------------------------
|                                                                                |
|        ........                                    ....       ....             |
|        ......C.  ....           #############4#####....     ##....  ....       |
|        ....3...  ....   ................A.......   .... ....> ....  ....  .... |
|            #     ....   ............<..8........########....########.B..##6... |
|         ....     ....   ........................########..B.########....##.... |
|         ....     ....####################>##############F########   ....  .... |
| ....    ....#####....##############..........B. .1..6.............. ....##.... |
| ...A    ....#    ....         .... 7........... ...........1....... ....    #  |
| ..5.#############....#########....#............#................... ....    #  |
| ....#      # ##    0          .... ............ #    #    #    #  ##....    #  |
|     #      #  ##   #               .....4...... #    #    #    #   #...9  .... |
|   ..............................   6........... ..........#......9. ....  .1.. |
|   ..2..........0...........C....################..........#........  ##   .... |
|   .0............................    #           .......7..#........   ##       |
|     #      #       #                #           #    #    #      ##   ###      |
|     #      #       #                #           #    #    #       ##  # ....   |
|   ....  .... ........    ................................9.<8..........#..D.   |
|   ....##....#........####.......4...4.....................4.....3...... ....   |
|   .5..  .... ........    ...............................8.........4.E.6        |
|                                                                                |
----------------------------------------------------------------------------------
Player is dead.
```